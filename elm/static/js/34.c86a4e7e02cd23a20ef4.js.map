{"version":3,"sources":["webpack:///src/page/login/loginPage.vue","webpack:///./src/page/login/loginPage.vue?ed18","webpack:///./src/page/login/loginPage.vue"],"names":["loginPage","getCaptchaCode","alertTip","methods","extends_default","Object","vuex_esm","showPassword","_this","this","getData","code","_this2","userAccount","passWord","codeNumber","data","userInfo","message","login_loginPage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","head-title","loginWay","goBack","_v","directives","name","rawName","value","expression","modifiers","lazy","type","placeholder","domProps","on","change","$event","target","input","composing","class","change_to_text","trans_to_right","click","changePassWordType","maxlength","src","captchaCodeImg","Login","to","showHide","showAlert","alertText","closeTip","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/34.c86a4e7e02cd23a20ef4.js","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"login-contanier\">\r\n    <header-Top :head-title=\"loginWay? '登录':'密码登录'\" goBack=\"true\"></header-Top>\r\n    <form class=\"login-form\" >\r\n      <section class=\"input-container\">\r\n        <input type=\"text\" placeholder=\"账号\" v-model.lazy=\"userAccount\">\r\n      </section>\r\n      <section class=\"input-container\">\r\n        <input v-if=\"!showPassword\" type=\"password\" placeholder=\"密码\"  v-model=\"passWord\">\r\n        <input v-else type=\"text\" placeholder=\"密码\"  v-model=\"passWord\">\r\n        <div class=\"button-switch\" :class=\"{change_to_text: showPassword}\">\r\n          <div class=\"circel_button\" :class=\"{trans_to_right: showPassword}\" @click=\"changePassWordType\"></div>\r\n          <span>abc</span>\r\n          <span>...</span>\r\n        </div>\r\n      </section>\r\n      <section class=\"input-container captcha_code_container\">\r\n        <input type=\"text\" maxlength=\"4\" placeholder=\"验证码\" v-model=\"codeNumber\">\r\n        <div class=\"img_change_img\">\r\n            <img v-show=\"captchaCodeImg\" :src=\"captchaCodeImg\">\r\n            <div class=\"change_img\" @click=\"getCaptchaCode\">\r\n                <p>看不清</p>\r\n                <p>换一张</p>\r\n            </div>\r\n        </div>\r\n      </section>\r\n    </form>\r\n    <p class=\"login_tips\">\r\n        温馨提示：未注册过的账号，登录时将自动注册\r\n    </p>\r\n    <p class=\"login_tips\">\r\n        注册过的用户可凭账号密码登录\r\n    </p>\r\n    <div class=\"login-btn\" @click=\"Login\">登录</div>\r\n    <router-link to=\"/forgetPage\" class=\"forget-password\">重置密码？</router-link>\r\n    <alert-tip v-if=\"showAlert\" :showHide=\"showAlert\" @closeTip=\"closeTip\" :alertText=\"alertText\"></alert-tip>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport headerTop from '../../components/header/header.vue'\r\nimport alertTip from '../../components/common/alertTip.vue'\r\nimport {mapMutations} from 'vuex'\r\nimport {\r\n  getCode,\r\n  login\r\n } from '../../service/getData.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      loginWay: null,\r\n      userAccount: null,\r\n      passWord: null,\r\n      codeNumber: null,\r\n      userInfo: [],\r\n      captchaCodeImg: null,\r\n      showPassword: false,\r\n      showAlert: false, // 显示提示组件\r\n      alertText: null  // 组件提示内容\r\n    }\r\n  },\r\n  created () {\r\n    this.getCaptchaCode()\r\n  },\r\n  components: {\r\n    headerTop, alertTip\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      'RECORD_USERINFO'\r\n    ]),\r\n    changePassWordType () {\r\n      this.showPassword = !this.showPassword\r\n    },\r\n    async getCaptchaCode () {\r\n      let res = await getCode()\r\n      this.captchaCodeImg = res.data.code\r\n    },\r\n    async Login () {\r\n      if (!this.userAccount) {\r\n        this.showAlert = true\r\n        this.alertText = '请输入手机号/邮箱/用户名'\r\n        return\r\n      } else if (!this.passWord) {\r\n        this.showAlert = true\r\n        this.alertText = '请输入密码'\r\n      } else if (!this.codeNumber) {\r\n        this.showAlert = true\r\n        this.alertText = '请输入验证码'\r\n      }\r\n      let res = await login({\r\n        username: this.userAccount,\r\n        password: this.passWord,\r\n        captcha_code: this.codeNumber\r\n      })\r\n      this.userInfo = res.data\r\n      // 如果返回的值不正确，则弹出提示框，返回的值正确则返回上一页\r\n      if (!this.userInfo.user_id) {\r\n        this.showAlert = true\r\n        this.alertText = this.userInfo.message\r\n        this.getCaptchaCode()\r\n      } else {\r\n        this.RECORD_USERINFO(this.userInfo)\r\n        this.$router.go(-1)\r\n      }\r\n    },\r\n    closeTip () {\r\n      this.showAlert = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'src/style/mixin.scss';\r\n.login-contanier{\r\n  padding-top: 1.95rem;\r\n  p, span, input{\r\n      font-family: Helvetica Neue,Tahoma,Arial;\r\n  }\r\n}\r\n.login-form{\r\n  margin-top: .6rem;\r\n  background: #fff;\r\n  .input-container{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: .6rem .8rem;\r\n    border-bottom: 1px solid #f1f1f1;\r\n    input{\r\n      @include sc(.7rem, #666);\r\n    }\r\n    button{\r\n      @include sc(.65rem, #fff);\r\n      font-family: Helvetica Neue,Tahoma,Arial;\r\n      padding: .28rem .4rem;\r\n      border: 1px;\r\n      border-radius: 0.15rem;\r\n    }\r\n  }\r\n  .captcha_code_container{\r\n    height: 2.2rem;\r\n    .img_change_img{\r\n      display: flex;\r\n      align-items: center;\r\n      img{\r\n        @include wh(3.5rem, 1.5rem);\r\n        margin-right: .2rem;\r\n      }\r\n      .change_img{\r\n        display: flex;\r\n        flex-direction: column;\r\n        flex-wrap: wrap;\r\n        width: 2rem;\r\n        justify-content: center;\r\n        p{\r\n          @include sc(.55rem,#666)\r\n        }\r\n        p:nth-of-type(2){\r\n          color: #3b95e9;\r\n          margin-top: .2rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.button-switch{\r\n  background-color: #ccc;\r\n  display: flex;\r\n  justify-content: center;\r\n  @include wh(2rem, .7rem);\r\n  padding: 0 .2rem;\r\n  border: 1px;\r\n  border-radius: .5rem;\r\n  position: relative;\r\n  .circel_button{\r\n    transition: all .3s;\r\n    position: absolute;\r\n    top: -0.2rem;\r\n    z-index: 1;\r\n    left: -0.3rem;\r\n    @include wh(1.2rem,1.2rem);\r\n    box-shadow: 0 0.026667rem 0.053333rem 0 rgba(0,0,0,.1);\r\n    background-color: #f1f1f1;\r\n    border-radius: 50%;\r\n  }\r\n  .trans_to_right{\r\n      transform: translateX(1.3rem);\r\n  }\r\n  span{\r\n      @include sc(.45rem, #fff);\r\n      transform: translateY(.05rem);\r\n      line-height: .6rem;\r\n  }\r\n  span:nth-of-type(2){\r\n      transform: translateY(-.08rem);\r\n  }\r\n}\r\n.change_to_text{\r\n  background-color: #4cd964;\r\n}\r\n.login_tips{\r\n  @include sc(.5rem, red);\r\n  padding: .4rem .6rem;\r\n  display: flex;\r\n  line-height: .5rem;\r\n  a{\r\n    color: #3b95e9;\r\n  }\r\n}\r\n.login-btn{\r\n  margin: 0.2rem .5rem 1rem;\r\n  @include sc(.7rem, #fff);\r\n  background-color: #4cd964;\r\n  padding: .5rem 0;\r\n  border: 1px;\r\n  border-radius: .15rem;\r\n  text-align: center;\r\n}\r\n.forget-password{\r\n  float: right;\r\n  @include sc(.6rem,#3b95e9);\r\n  margin-right: .3rem;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/login/loginPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-contanier\"},[_c('header-Top',{attrs:{\"head-title\":_vm.loginWay? '登录':'密码登录',\"goBack\":\"true\"}}),_vm._v(\" \"),_c('form',{staticClass:\"login-form\"},[_c('section',{staticClass:\"input-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.userAccount),expression:\"userAccount\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"账号\"},domProps:{\"value\":(_vm.userAccount)},on:{\"change\":function($event){_vm.userAccount=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticClass:\"input-container\"},[(!_vm.showPassword)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passWord),expression:\"passWord\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.passWord)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.passWord=$event.target.value}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passWord),expression:\"passWord\"}],attrs:{\"type\":\"text\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.passWord)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.passWord=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"button-switch\",class:{change_to_text: _vm.showPassword}},[_c('div',{staticClass:\"circel_button\",class:{trans_to_right: _vm.showPassword},on:{\"click\":_vm.changePassWordType}}),_vm._v(\" \"),_c('span',[_vm._v(\"abc\")]),_vm._v(\" \"),_c('span',[_vm._v(\"...\")])])]),_vm._v(\" \"),_c('section',{staticClass:\"input-container captcha_code_container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codeNumber),expression:\"codeNumber\"}],attrs:{\"type\":\"text\",\"maxlength\":\"4\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.codeNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.codeNumber=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"img_change_img\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.captchaCodeImg),expression:\"captchaCodeImg\"}],attrs:{\"src\":_vm.captchaCodeImg}}),_vm._v(\" \"),_c('div',{staticClass:\"change_img\",on:{\"click\":_vm.getCaptchaCode}},[_c('p',[_vm._v(\"看不清\")]),_vm._v(\" \"),_c('p',[_vm._v(\"换一张\")])])])])]),_vm._v(\" \"),_c('p',{staticClass:\"login_tips\"},[_vm._v(\"\\n      温馨提示：未注册过的账号，登录时将自动注册\\n  \")]),_vm._v(\" \"),_c('p',{staticClass:\"login_tips\"},[_vm._v(\"\\n      注册过的用户可凭账号密码登录\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"login-btn\",on:{\"click\":_vm.Login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"forget-password\",attrs:{\"to\":\"/forgetPage\"}},[_vm._v(\"重置密码？\")]),_vm._v(\" \"),(_vm.showAlert)?_c('alert-tip',{attrs:{\"showHide\":_vm.showAlert,\"alertText\":_vm.alertText},on:{\"closeTip\":_vm.closeTip}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00e7bde9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/login/loginPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00e7bde9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loginPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00e7bde9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./loginPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-00e7bde9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/login/loginPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}