webpackJsonp([1],{"70vt":function(t,s){},"7AR5":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("fZjL"),o=e.n(i),a=e("Dd8w"),n=e.n(a),c=e("Xxa5"),r=e.n(c),l=e("exGp"),_=e.n(l),d=e("gRE1"),u=e.n(d),h=e("woOf"),p=e.n(h),v=e("NYxO"),f={data:function(){return{showMoveDot:[]}},created:function(){},computed:n()({},Object(v.d)(["cartList"]),{shopCart:function(){return p()({},this.cartList[this.shopId])},foodNum:function(){var t=this.foods.category_id,s=this.foods.item_id;if(this.shopCart&&this.shopCart[t]&&this.shopCart[t][s]){var e=0;return u()(this.shopCart[t][s]).forEach(function(t,s){e+=t.num}),e}return 0}}),props:["foods","shopId"],methods:n()({},Object(v.c)(["ADD_CART","REDUCE_CART"]),{addToCart:function(t,s,e,i,o,a,n,c,r,l){this.ADD_CART({shopid:this.shopId,category_id:t,item_id:s,food_id:e,name:i,price:o,specs:a,packing_fee:n,sku_id:c,stock:r})},removeOutCart:function(t,s,e,i,o,a,n,c,r){this.foodNum>0&&this.REDUCE_CART({shopid:this.shopId,category_id:t,item_id:s,food_id:e,name:i,price:o,specs:a,packing_fee:n,sku_id:c,stock:r})},showChooseList:function(t){this.$emit("showChooseList",t)},showReduceTip:function(){this.$emit("showReduceTip")}})},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"cart_module"},[t.foods.specifications.length?e("section",{staticClass:"choose_specification"},[e("section",{staticClass:"choose_icon_container"},[e("transition",{attrs:{name:"showReduce"}},[t.foodNum?e("svg",{staticClass:"add_icon",attrs:{xmlns:"http://www.w3.org/200/svg",version:"1.1"},on:{click:t.showReduceTip}},[e("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"3",x2:"13",y1:"9",y2:"9",stroke:"black","stroke-width":"2"}})]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.foodNum?e("span",{staticClass:"cart_num"},[t._v(t._s(t.foodNum))]):t._e()]),t._v(" "),e("span",{staticClass:"show_chooselist",on:{click:function(s){t.showChooseList(t.foods)}}},[t._v("选规格")])],1)]):e("section",{staticClass:"cart_button"},[e("transition",{attrs:{name:"showReduce"}},[t.foodNum?e("span",{on:{click:function(s){t.removeOutCart(t.foods.category_id,t.foods.item_id,t.foods.specfoods[0].food_id,t.foods.specfoods[0].name,t.foods.specfoods[0].price,"",t.foods.specfoods[0].packing_fee,t.foods.specfoods[0].sku_id,t.foods.specfoods[0].stock)}}},[e("svg",{staticClass:"add_icon",attrs:{xmlns:"http://www.w3.org/200/svg",version:"1.1"}},[e("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"3",x2:"13",y1:"9",y2:"9",stroke:"black","stroke-width":"2"}})])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.foodNum?e("span",{staticClass:"cart_num"},[t._v(t._s(t.foodNum))]):t._e()]),t._v(" "),e("svg",{staticClass:"add_icon",attrs:{xmlns:"http://www.w3.org/200/svg",version:"1.1"},on:{touchstart:function(s){t.addToCart(t.foods.category_id,t.foods.item_id,t.foods.specfoods[0].food_id,t.foods.specfoods[0].name,t.foods.specfoods[0].price,"",t.foods.specfoods[0].packing_fee,t.foods.specfoods[0].sku_id,t.foods.specfoods[0].stock,s)}}},[e("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"3",x2:"13",y1:"8",y2:"8",stroke:"black","stroke-width":"2"}}),t._v(" "),e("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"8",x2:"8",y1:"3",y2:"13",stroke:"black","stroke-width":"2"}})])],1)])},staticRenderFns:[]},m=e("VU/8")(f,g,!1,function(t){e("QxgR")},null,null).exports,C=e("i84Q"),L=e("R2SV"),w=e("GQaK"),y={data:function(){return{imgBaseUrl:"http://cangdu.org:8001/img/",canteenDetail:{activities:[]},TitleDetailIndex:null,canteenFoodList:{foods:[]},canteenScoresList:{},canteenTagList:[],canteenCommentList:[],showActivities:!1,changeShowType:"food",listHeight:[],showSpecs:!1,specsIndex:0,choosedFoods:null,scrollY:"",foodScroll:null,categoryNum:[],totalPrice:0,cartFoodList:[],showCartList:!1,showDeleteTip:!1,ratingTageIndex:0,shopId:null,canteenQuery:{tag_name:"",offset:0,limit:10,restaurant_id:null}}},created:function(){var t=this;return _()(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.geohash=t.$route.query.geohash,t.shopId=t.$route.query.id,t.init(),s.next=5,t.getCanteenDetail();case 5:return s.next=7,t.getCanteenFoodList();case 7:return s.next=9,t.INIT_BUYCART();case 9:return s.next=11,t.getCanteenComment();case 11:return s.next=13,t.getCanteenCommentScores();case 13:return s.next=15,t.getCanteenCommentTag();case 15:t.initScorll(),t.calculateHeight();case 17:case"end":return s.stop()}},s,t)}))()},components:{buyCart:m},computed:n()({},Object(v.d)(["latitude","longitude","cartList"]),{promotionInfo:function(){return this.canteenDetail.promotion_info||"欢迎光临，用餐高峰期请提前下单，谢谢。"},menuIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}return 0},shopCart:function(){return n()({},this.cartList[this.shopId])},totalNum:function(){var t=0;return this.cartFoodList.forEach(function(s){t+=s.num}),t},deliveryFee:function(){return this.canteenDetail?this.canteenDetail.float_delivery_fee:null},minimumOrderAmount:function(){return this.canteenDetail?this.canteenDetail.float_minimum_order_amount-this.totalPrice:null}}),watch:{shopCart:function(t){this.initCategoryNum()}},methods:n()({},Object(v.c)(["RECORD_ADDRESS","ADD_CART","REDUCE_CART","INIT_BUYCART","CLEAR_CART","RECORD_SHOPDETAIL"]),{getImgPath:function(t){return Object(L.a)(t)},init:function(){var t=this;return _()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.latitude){s.next=5;break}return s.next=3,Object(C.y)(t.geohash);case 3:e=s.sent,t.RECORD_ADDRESS(e.data);case 5:case"end":return s.stop()}},s,t)}))()},goback:function(){this.$router.go(-1)},showActivitiesFun:function(){this.showActivities=!this.showActivities},showChooseList:function(t){t&&(this.choosedFoods=t,this.specsIndex=0),this.showSpecs=!this.showSpecs},showReduceTip:function(){var t=this;this.showDeleteTip=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){clearTimeout(t.timer),t.showDeleteTip=!1},1500)},chooseSpecs:function(t){this.specsIndex=t},addSpecs:function(t,s,e,i,o,a,n,c,r){this.ADD_CART({shopid:this.shopId,category_id:t,item_id:s,food_id:e,name:i,price:o,specs:a,packing_fee:n,sku_id:c,stock:r}),this.showChooseList()},initCategoryNum:function(){var t=this,s=[],e=0;this.totalPrice=0,this.cartFoodList=[],Array.isArray(this.canteenFoodList)&&(this.canteenFoodList.forEach(function(i,a){if(t.shopCart&&t.shopCart[i.foods[0].category_id]){var n=0;o()(t.shopCart[i.foods[0].category_id]).forEach(function(s){o()(t.shopCart[i.foods[0].category_id][s]).forEach(function(o){var a=t.shopCart[i.foods[0].category_id][s][o];n+=a.num,1===i.type&&(t.totalPrice+=a.num*a.price,a.num>0&&(t.cartFoodList[e]={},t.cartFoodList[e].category_id=i.foods[0].category_id,t.cartFoodList[e].item_id=s,t.cartFoodList[e].food_id=o,t.cartFoodList[e].num=a.num,t.cartFoodList[e].price=a.price,t.cartFoodList[e].name=a.name,t.cartFoodList[e].specs=a.specs,e++))})}),s[a]=n}else s[a]=0}),this.totalPrice=this.totalPrice.toFixed(2),this.categoryNum=[].concat(s))},chooseMenu:function(t,s){if(s._constructed){var e=this.$refs.menuFoodList.getElementsByClassName("food-list-hook")[t];this.foodScroll.scrollToElement(e,200)}},showTitleDetail:function(t){this.TitleDetailIndex===t?this.TitleDetailIndex=null:this.TitleDetailIndex=t},addToCart:function(t,s,e,i,o,a){this.ADD_CART({shopid:this.shopId,category_id:t,item_id:s,food_id:e,name:i,price:o,specs:a})},removeOutCart:function(t,s,e,i,o,a){this.REDUCE_CART({shopid:this.shopId,category_id:t,item_id:s,food_id:e,name:i,price:o,specs:a})},clearCart:function(){this.toggleCartList(),this.CLEAR_CART(this.shopId)},toggleCartList:function(){this.cartFoodList.length&&(this.showCartList=!this.showCartList)},initScorll:function(){var t=this;this.meunScroll=new w.a(this.$refs.wrapperMenu,{click:!0}),this.foodScroll=new w.a(this.$refs.menuFoodList,{click:!0,probeType:3}),this.foodScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},calculateHeight:function(){var t=this.$refs.menuFoodList.getElementsByClassName("food-list-hook"),s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){s+=t[e].clientHeight,this.listHeight.push(s)}},changeTgeIndex:function(t,s){this.ratingTageIndex=s,this.canteenQuery.tag_name=t,this.getCanteenComment()},getCanteenDetail:function(){var t=this;return _()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(C.l)({shopid:t.shopId,latitude:t.latitude?t.latitude:"",longitude:t.longitude?t.longitude:""});case 2:e=s.sent,t.canteenDetail=e.data,t.RECORD_SHOPDETAIL(t.canteenDetail);case 5:case"end":return s.stop()}},s,t)}))()},getCanteenFoodList:function(){var t=this;return _()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(C.m)({restaurant_id:t.shopId});case 2:e=s.sent,t.canteenFoodList=e.data;case 4:case"end":return s.stop()}},s,t)}))()},getCanteenComment:function(){var t=this;return _()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.canteenQuery.restaurant_id=t.shopId,s.next=3,Object(C.i)(t.canteenQuery);case 3:e=s.sent,t.canteenCommentList=e.data;case 5:case"end":return s.stop()}},s,t)}))()},getCanteenCommentScores:function(){var t=this;return _()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.canteenQuery.restaurant_id=t.shopId,s.next=3,Object(C.j)(t.canteenQuery);case 3:e=s.sent,t.canteenScoresList=e.data;case 5:case"end":return s.stop()}},s,t)}))()},getCanteenCommentTag:function(){var t=this;return _()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.canteenQuery.restaurant_id=t.shopId,s.next=3,Object(C.k)(t.canteenQuery);case 3:e=s.sent,t.canteenTagList=e.data;case 5:case"end":return s.stop()}},s,t)}))()}})},M={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{},[i("section",{staticClass:"shopDetail-container"},[i("nav",{staticClass:"goback",on:{click:t.goback}},[i("svg",{attrs:{width:"4rem",height:"100%",xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[i("polyline",{staticStyle:{fill:"none",stroke:"rgb(255,255,255)","stroke-width":"3"},attrs:{points:"12,18 4,9 12,0"}})])]),t._v(" "),i("header",{ref:"shopheader",staticClass:"shopDetail_header",style:{zIndex:t.showActivities?"14":"10"}},[i("img",{staticClass:"header_cover_img",attrs:{src:t.imgBaseUrl+t.canteenDetail.image_path}}),t._v(" "),i("section",{staticClass:"descript_header"},[i("router-link",{staticClass:"description_top",attrs:{to:"/shopIntroduce"}},[i("section",{staticClass:"description_left"},[i("img",{attrs:{src:t.imgBaseUrl+t.canteenDetail.image_path}})]),t._v(" "),i("section",{staticClass:"description_right"},[i("h4",{staticClass:"description_title ellipsis"},[t._v(t._s(t.canteenDetail.name))]),t._v(" "),i("p",{staticClass:"description_text"},[t._v("商家配送／"+t._s(t.canteenDetail.order_lead_time)+"分钟送达／配送费¥"+t._s(t.canteenDetail.float_delivery_fee))]),t._v(" "),i("p",{staticClass:"description_promotion ellipsis"},[t._v("公告："+t._s(t.promotionInfo))])]),t._v(" "),i("svg",{staticClass:"description_arrow",attrs:{width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[i("path",{attrs:{d:"M0 0 L8 7 L0 14",stroke:"#fff","stroke-width":"1",fill:"none"}})])]),t._v(" "),t.canteenDetail.activities.length?i("footer",{staticClass:"description_footer",on:{click:t.showActivitiesFun}},[i("p",{staticClass:"ellipsis"},[i("span",{staticClass:"tip_icon",style:{backgroundColor:"#"+t.canteenDetail.activities[0].icon_color,borderColor:"#"+t.canteenDetail.activities[0].icon_color}},[t._v(t._s(t.canteenDetail.activities[0].icon_name))]),t._v(" "),i("span",[t._v(t._s(t.canteenDetail.activities[0].description)+"（APP专享）")])]),t._v(" "),i("p",[t._v(t._s(t.canteenDetail.activities.length)+"个活动")]),t._v(" "),i("svg",{staticClass:"footer_arrow"},[i("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-left"}})])]):t._e()],1)]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showActivities?i("section",{staticClass:"activities_details"},[i("h2",{staticClass:"activities_shoptitle"},[t._v(t._s(t.canteenDetail.name))]),t._v(" "),i("h3",{staticClass:"activities_ratingstar"}),t._v(" "),i("section",{staticClass:"activities_list"},[i("header",{attrs:{activities_title_style:""}},[i("span",[t._v(" 优惠信息")])]),t._v(" "),i("ul",t._l(t.canteenDetail.activities,function(s){return i("li",{key:s.id},[i("span",{staticClass:"activities_icon",style:{backgroundColor:"#"+s.icon_color,borderColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(" "),i("span",[t._v(t._s(s.description)+"（APP专享）")])])}))]),t._v(" "),i("section",{staticClass:"activities_shopinfo"},[i("header",{staticClass:"activities_title_style"},[i("span",[t._v("商家公告")])]),t._v(" "),i("p",[t._v(t._s(t.promotionInfo))])]),t._v(" "),i("svg",{staticClass:"close_activities",attrs:{width:"60",height:"60"},on:{click:function(s){s.stopPropagation(),t.showActivitiesFun(s)}}},[i("circle",{attrs:{cx:"30",cy:"30",r:"25",stroke:"#555","stroke-width":"1",fill:"none"}}),t._v(" "),i("line",{staticStyle:{stroke:"#999","stroke-width":"2"},attrs:{x1:"22",y1:"38",x2:"38",y2:"22"}}),t._v(" "),i("line",{staticStyle:{stroke:"#999","stroke-width":"2"},attrs:{x1:"22",y1:"22",x2:"38",y2:"38"}})])]):t._e()]),t._v(" "),i("section",{ref:"chooseType",staticClass:"change_show_type"},[i("div",{},[i("span",{class:{activity_show:"food"==t.changeShowType},on:{click:function(s){t.changeShowType="food"}}},[t._v("商品")])]),t._v(" "),i("div",{},[i("span",{class:{activity_show:"rating"==t.changeShowType},on:{click:function(s){t.changeShowType="rating"}}},[t._v("评价")])])]),t._v(" "),i("transition",{attrs:{name:"fade-choose"}},[i("section",{directives:[{name:"show",rawName:"v-show",value:"food"==t.changeShowType,expression:"changeShowType =='food'"}],staticClass:"food_container"},[i("section",{staticClass:"menu_container"},[i("section",{ref:"wrapperMenu",staticClass:"menu_left",attrs:{id:"wrapper_menu"}},[i("ul",t._l(t.canteenFoodList,function(s,e){return i("li",{key:e,staticClass:"menu_left_li",class:{activity_menu:e==t.menuIndex},on:{click:function(s){t.chooseMenu(e,s)}}},[s.icon_url?i("img",{attrs:{src:t.getImgPath(s.icon_url)}}):t._e(),t._v(" "),i("span",[t._v(t._s(s.name))]),t._v(" "),t.categoryNum[e]&&1==s.type?i("span",{staticClass:"category_num"},[t._v(t._s(t.categoryNum[e]))]):t._e()])}))]),t._v(" "),i("section",{ref:"menuFoodList",staticClass:"menu_right"},[i("ul",t._l(t.canteenFoodList,function(s,e){return i("li",{key:e,staticClass:"food-list-hook"},[i("header",{staticClass:"menu_detail_header"},[i("section",{staticClass:"menu_detail_header_left"},[i("strong",{staticClass:"menu_item_title"},[t._v(t._s(s.name))]),t._v(" "),i("span",{staticClass:"menu_item_description"},[t._v(t._s(s.description))])]),t._v(" "),i("span",{staticClass:"menu_detail_header_right",on:{click:function(s){t.showTitleDetail(e)}}}),t._v(" "),e==t.TitleDetailIndex?i("p",{staticClass:"description_tip"},[i("span",[t._v(t._s(s.name))]),t._v("\n                      "+t._s(s.description)+"\n                  ")]):t._e()]),t._v(" "),t._l(s.foods,function(s,e){return i("section",{key:e,staticClass:"menu_detail_list"},[i("router-link",{staticClass:"menu_detail_link",attrs:{to:{path:"/foodDetail",query:{image_path:s.image_path,description:s.description,month_sales:s.month_sales,name:s.name,rating:s.rating,rating_count:s.rating_count,satisfy_rate:s.satisfy_rate,foods:s,shopId:t.shopId}},tag:"div"}},[i("section",{staticClass:"menu_food_img"},[i("img",{attrs:{src:t.imgBaseUrl+s.image_path}})]),t._v(" "),i("section",{staticClass:"menu_food_description"},[i("h3",{staticClass:"food_description_head"},[i("strong",{staticClass:"description_foodname"},[t._v(t._s(s.name))]),t._v(" "),s.attributes.length?i("ul",{staticClass:"attributes_ul"},t._l(s.attributes,function(s,e){return i("li",{key:e,class:{attribute_new:"新"==s.icon_name},style:{color:"#"+s.icon_color,borderColor:"#"+s.icon_color}},[i("p",{style:{color:"新"==s.icon_name?"#fff":"#"+s.icon_color}},[t._v(t._s("新"==s.icon_name?"新品":s.icon_name))])])})):t._e()]),t._v(" "),i("p",{staticClass:"food_description_content"},[t._v(t._s(s.description))]),t._v(" "),i("p",{staticClass:"food_description_sale_rating"},[i("span",[t._v("月售"+t._s(s.month_sales)+"份")]),t._v(" "),i("span",[t._v("好评率"+t._s(s.satisfy_rate)+"%")])]),t._v(" "),s.activity?i("p",{staticClass:"food_activity"},[i("span",{style:{color:"#"+s.activity.image_text_color,borderColor:"#"+s.activity.icon_color}},[t._v(t._s(s.activity.image_text))])]):t._e()])]),t._v(" "),i("footer",{staticClass:"menu_detail_footer"},[i("section",{staticClass:"food_price"},[i("span",[t._v("¥")]),t._v(" "),i("span",[t._v(t._s(s.specfoods[0].price))]),t._v(" "),s.specifications.length?i("span",[t._v("起")]):t._e()]),t._v(" "),i("buy-cart",{attrs:{shopId:t.shopId,foods:s},on:{showChooseList:t.showChooseList,showReduceTip:t.showReduceTip}})],1)],1)})],2)}))])]),t._v(" "),i("section",{staticClass:"buy_cart_container"},[i("section",{staticClass:"cart_icon_num",on:{click:t.toggleCartList}},[i("div",{staticClass:"cart_icon_container",class:{cart_icon_activity:t.totalPrice>0}},[t.totalNum?i("span",{staticClass:"cart_list_length"},[t._v(t._s(t.totalNum))]):t._e(),t._v(" "),i("span",{staticClass:"cart_icon"},[i("img",{attrs:{src:e("JKQB"),alt:""}})])]),t._v(" "),i("div",{staticClass:"cart_num"},[i("div",[t._v("¥ "+t._s(t.totalPrice))]),t._v(" "),i("div",[t._v("配送费¥"+t._s(t.deliveryFee))])])]),t._v(" "),i("section",{staticClass:"gotopay",class:{gotopay_acitvity:t.minimumOrderAmount<=0}},[t.minimumOrderAmount>0?i("span",{staticClass:"gotopay_button_style"},[t._v("还差¥"+t._s(t.minimumOrderAmount)+"起送")]):i("router-link",{staticClass:"gotopay_button_style",attrs:{to:{path:"/confirmOrder",query:{geohash:t.geohash,shopId:t.shopId}}}},[t._v("去结算")])],1)]),t._v(" "),i("transition",{attrs:{name:"toggle-cart"}},[i("section",{directives:[{name:"show",rawName:"v-show",value:t.showCartList&&t.cartFoodList.length,expression:"showCartList&&cartFoodList.length"}],staticClass:"cart_food_list"},[i("header",[i("h4",[t._v("购物车")]),t._v(" "),i("div",{on:{click:t.clearCart}},[i("svg",[i("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-remove"}})]),t._v(" "),i("span",{staticClass:"clear_cart"},[t._v("清空")])])]),t._v(" "),i("section",{staticClass:"cart_food_details",attrs:{id:"cartFood"}},[i("ul",t._l(t.cartFoodList,function(s,e){return i("li",{key:e,staticClass:"cart_food_li"},[i("div",{staticClass:"cart_list_num"},[i("p",{staticClass:"ellipsis"},[t._v(t._s(s.name))]),t._v(" "),i("p",{staticClass:"ellipsis"},[t._v(t._s(s.specs))])]),t._v(" "),i("div",{staticClass:"cart_list_price"},[i("span",[t._v("¥")]),t._v(" "),i("span",[t._v(t._s(s.price))])]),t._v(" "),i("section",{staticClass:"cart_list_control"},[i("span",{on:{click:function(e){t.removeOutCart(s.category_id,s.item_id,s.food_id,s.name,s.price,s.specs)}}},[i("svg",{staticClass:"add_icon",attrs:{xmlns:"http://www.w3.org/200/svg",version:"1.1"}},[i("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"3",x2:"13",y1:"9",y2:"9",stroke:"black","stroke-width":"2"}})])]),t._v(" "),i("span",{staticClass:"cart_num"},[t._v(t._s(s.num))]),t._v(" "),i("svg",{staticClass:"cart_add",on:{click:function(e){t.addToCart(s.category_id,s.item_id,s.food_id,s.name,s.price,s.specs)}}},[i("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"3",x2:"13",y1:"8",y2:"8",stroke:"black","stroke-width":"2"}}),t._v(" "),i("line",{staticStyle:{stroke:"rgb(49,144,232)"},attrs:{x1:"8",x2:"8",y1:"3",y2:"13",stroke:"black","stroke-width":"2"}})])])])}))])])])],1)]),t._v(" "),i("transition",{attrs:{name:"fade-choose"}},[i("section",{directives:[{name:"show",rawName:"v-show",value:"rating"==t.changeShowType,expression:"changeShowType =='rating'"}],staticClass:"rating_container"},[i("section",[i("header",{staticClass:"rating_header"},[i("section",{staticClass:"rating_header_left"},[i("p",[t._v(t._s(t.canteenDetail.rating))]),t._v(" "),i("p",[t._v("综合评价")]),t._v(" "),i("p",[t._v("高于周边商家"+t._s((100*t.canteenScoresList.compare_rating).toFixed(2))+"%")])]),t._v(" "),i("section",{staticClass:"rating_header_right"},[i("p",[i("span",[t._v("服务态度")]),t._v(" "),i("span",{staticClass:"rating_num"},[t._v(t._s(t.canteenScoresList.service_score))])]),t._v(" "),i("p",[i("span",[t._v("菜品评价")]),t._v(" "),i("span",{staticClass:"rating_num"},[t._v(t._s(t.canteenScoresList.food_score))])]),t._v(" "),i("p",[i("span",[t._v("送达时间")]),t._v(" "),i("span",{staticClass:"delivery_time"},[t._v(t._s(t.canteenScoresList.order_lead_time)+"分钟")])])])]),t._v(" "),i("ul",{staticClass:"tag_list_ul"},t._l(t.canteenTagList,function(s,e){return i("li",{class:{tagActivity:t.ratingTageIndex===e},on:{click:function(i){t.changeTgeIndex(s.name,e)}}},[t._v(t._s(s.name)+"("+t._s(s.count)+")")])})),t._v(" "),i("ul",{staticClass:"rating_list_ul"},t._l(t.canteenCommentList,function(s,e){return i("li",{key:e,staticClass:"rating_list_li"},[i("img",{staticClass:"user_avatar",attrs:{src:t.getImgPath(s.avatar),alt:""}}),t._v(" "),i("section",{staticClass:"rating_list_details"},[i("header",[i("section",{staticClass:"username_star"},[i("p",{staticClass:"username"},[t._v(t._s(s.username))]),t._v(" "),i("p",{staticClass:"star_desc"},[i("span",{staticClass:"time_spent_desc"},[t._v(t._s(s.time_spent_desc))])])]),t._v(" "),i("time",{staticClass:"rated_at"},[t._v(t._s(s.rated_at))])]),t._v(" "),i("ul",{staticClass:"food_img_ul"},t._l(s.item_ratings,function(s,e){return i("li",{key:e},[s.image_hash?i("img",{attrs:{src:t.getImgPath(s.image_hash)}}):t._e()])})),t._v(" "),i("ul",{staticClass:"food_name_ul"},t._l(s.item_ratings,function(s,e){return i("li",{key:e,staticClass:"ellipsis"},[t._v("\n                    "+t._s(s.food_name)+"\n                  ")])}))])])}))])])])],1),t._v(" "),i("section",[i("transition",{attrs:{name:"fade"}},[t.showSpecs?i("div",{staticClass:"specs_cover",on:{click:t.showChooseList}}):t._e()]),t._v(" "),i("transition",{attrs:{name:"fadeBounce"}},[t.showSpecs?i("div",{staticClass:"specs_list"},[i("header",{staticClass:"specs_list_header"},[i("h4",{staticClass:"ellipsis"},[t._v(t._s(t.choosedFoods.name))]),t._v(" "),i("svg",{staticClass:"specs_cancel",attrs:{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},on:{click:t.showChooseList}},[i("line",{attrs:{x1:"0",y1:"0",x2:"16",y2:"16",stroke:"#666","stroke-width":"1.2"}}),t._v(" "),i("line",{attrs:{x1:"0",y1:"16",x2:"16",y2:"0",stroke:"#666","stroke-width":"1.2"}})])]),t._v(" "),i("section",{staticClass:"specs_details"},[i("h5",{staticClass:"specs_details_title"},[t._v(t._s(t.choosedFoods.specifications[0].name))]),t._v(" "),i("ul",t._l(t.choosedFoods.specifications[0].values,function(s,e){return i("li",{class:{specs_activity:e==t.specsIndex},on:{click:function(s){t.chooseSpecs(e)}}},[t._v("\n                "+t._s(s)+"\n            ")])}))]),t._v(" "),i("footer",{staticClass:"specs_footer"},[i("div",{staticClass:"specs_price"},[i("span",[t._v("¥ ")]),t._v(" "),i("span",[t._v(t._s(t.choosedFoods.specfoods[t.specsIndex].price))])]),t._v(" "),i("div",{staticClass:"specs_addto_cart",on:{click:function(s){t.addSpecs(t.choosedFoods.category_id,t.choosedFoods.item_id,t.choosedFoods.specfoods[t.specsIndex].food_id,t.choosedFoods.specfoods[t.specsIndex].name,t.choosedFoods.specfoods[t.specsIndex].price,t.choosedFoods.specifications[0].values[t.specsIndex],t.choosedFoods.specfoods[t.specsIndex].packing_fee,t.choosedFoods.specfoods[t.specsIndex].sku_id,t.choosedFoods.specfoods[t.specsIndex].stock)}}},[t._v("加入购物车")])])]):t._e()])],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showDeleteTip?i("p",{staticClass:"show_delete_tip"},[t._v("多规格商品只能去购物车删除哦")]):t._e()])],1)},staticRenderFns:[]},T=e("VU/8")(y,M,!1,function(t){e("70vt")},"data-v-51a2dd8e",null);s.default=T.exports},Cdx3:function(t,s,e){var i=e("sB3e"),o=e("lktj");e("uqUo")("keys",function(){return function(t){return o(i(t))}})},JKQB:function(t,s){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cuc2ZvbnQuY24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPG1ldGFkYXRhPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5zZm9udC5jbiA8L21ldGFkYXRhPg0KPGc+PHBhdGggZD0iTTI4LjksOTAuOGgxNTEuNGMxMC41LDAsMTguOSw4LjMsMTguOSwxOC42YzAsMTAuMy04LjUsMTguNi0xOC45LDE4LjZIMjguOWMtMTAuNSwwLTE4LjktOC4zLTE4LjktMTguNkMxMCw5OS4xLDE4LjUsOTAuOCwyOC45LDkwLjh6Ii8+PHBhdGggZD0iTTM1MC43LDY0OC44aDU0OC45YzEwLjUsMCwxOC45LDguMywxOC45LDE4LjZTOTEwLDY4Niw4OTkuNiw2ODZIMzUwLjdjLTEwLjUsMC0xOC45LTguMy0xOC45LTE4LjZDMzMxLjgsNjU3LjEsMzQwLjMsNjQ4LjgsMzUwLjcsNjQ4Ljh6Ii8+PHBhdGggZD0iTTM1Mi41LDIwMi40aDYwMmMxMS41LDAsMjAuOCw4LjMsMjAuOCwxOC42cy05LjMsMTguNi0yMC44LDE4LjZoLTYwMmMtMTEuNSwwLTIwLjgtOC4zLTIwLjgtMTguNkMzMzEuOCwyMTAuNywzNDEuMSwyMDIuNCwzNTIuNSwyMDIuNHoiLz48cGF0aCBkPSJNMzY5LDM1MS4yaDUzMS4yYzEwLjEsMCwxOC4zLDguMywxOC4zLDE4LjZzLTguMiwxOC42LTE4LjMsMTguNkgzNjljLTEwLjEsMC0xOC4zLTguMy0xOC4zLTE4LjZTMzU4LjksMzUxLjIsMzY5LDM1MS4yeiIvPjxwYXRoIGQ9Ik0zNTAuNyw1MDBoNTQ4LjljMTAuNSwwLDE4LjksOC4zLDE4LjksMTguNmMwLDEwLjMtOC41LDE4LjYtMTguOSwxOC42SDM1MC43Yy0xMC41LDAtMTguOS04LjMtMTguOS0xOC42QzMzMS44LDUwOC4zLDM0MC4zLDUwMCwzNTAuNyw1MDB6Ii8+PHBhdGggZD0iTTk3NiwyMDBjMTAuMSwyLjcsMTYuMSwxMi45LDEzLjQsMjIuOEw5MTEsNTEwLjNjLTIuNyw5LjktMTMuMSwxNS44LTIzLjIsMTMuMmMtMTAuMS0yLjctMTYuMS0xMi44LTEzLjQtMjIuOGw3OC40LTI4Ny41Qzk1NS41LDIwMy4zLDk2NS45LDE5Ny40LDk3NiwyMDB6Ii8+PHBhdGggZD0iTTE5Ni42LDEwMWMxMC4xLTIuNywyMC41LDMuMiwyMy4yLDEzLjJsMTQ3LDUzOWMyLjcsOS45LTMuMywyMC4xLTEzLjQsMjIuOGMtMTAuMSwyLjctMjAuNS0zLjItMjMuMi0xMy4ybC0xNDctNTM5QzE4MC41LDExMy44LDE4Ni41LDEwMy42LDE5Ni42LDEwMXoiLz48cGF0aCBkPSJNNDI2LjQsNzIzLjJjNTIuMywwLDk0LjYsNDEuNiw5NC42LDkzcy00Mi40LDkzLTk0LjYsOTNjLTUyLjMsMC05NC42LTQxLjYtOTQuNi05M0MzMzEuOCw3NjQuOCwzNzQuMSw3MjMuMiw0MjYuNCw3MjMuMnoiLz48cGF0aCBkPSJNNDI2LjQsNzYwLjRjMzEuNCwwLDU2LjgsMjUsNTYuOCw1NS44YzAsMzAuOC0yNS40LDU1LjgtNTYuOCw1NS44Yy0zMS4zLDAtNTYuOC0yNS01Ni44LTU1LjhDMzY5LjYsNzg1LjQsMzk1LjEsNzYwLjQsNDI2LjQsNzYwLjR6Ii8+PHBhdGggZD0iTTg0Mi44LDcyMy4yYzUyLjMsMCw5NC42LDQxLjYsOTQuNiw5M3MtNDIuNCw5My05NC42LDkzYy01Mi4zLDAtOTQuNi00MS42LTk0LjYtOTNDNzQ4LjIsNzY0LjgsNzkwLjYsNzIzLjIsODQyLjgsNzIzLjJ6Ii8+PHBhdGggZD0iTTg0Mi44LDc2MC40YzMxLjQsMCw1Ni44LDI1LDU2LjgsNTUuOGMwLDMwLjgtMjUuNCw1NS44LTU2LjgsNTUuOHMtNTYuOC0yNS01Ni44LTU1LjhDNzg2LjEsNzg1LjQsODExLjUsNzYwLjQsODQyLjgsNzYwLjR6Ii8+PC9nPg0KPC9zdmc+"},QxgR:function(t,s){},TmV0:function(t,s,e){e("fZOM"),t.exports=e("FeBl").Object.values},fZOM:function(t,s,e){var i=e("kM2E"),o=e("mbce")(!1);i(i.S,"Object",{values:function(t){return o(t)}})},fZjL:function(t,s,e){t.exports={default:e("jFbC"),__esModule:!0}},gRE1:function(t,s,e){t.exports={default:e("TmV0"),__esModule:!0}},jFbC:function(t,s,e){e("Cdx3"),t.exports=e("FeBl").Object.keys},mbce:function(t,s,e){var i=e("lktj"),o=e("TcQ7"),a=e("NpIQ").f;t.exports=function(t){return function(s){for(var e,n=o(s),c=i(n),r=c.length,l=0,_=[];r>l;)a.call(n,e=c[l++])&&_.push(t?[e,n[e]]:n[e]);return _}}},uqUo:function(t,s,e){var i=e("kM2E"),o=e("FeBl"),a=e("S82l");t.exports=function(t,s){var e=(o.Object||{})[t]||Object[t],n={};n[t]=s(e),i(i.S+i.F*a(function(){e(1)}),"Object",n)}}});
//# sourceMappingURL=1.4f8693ca6166b764c744.js.map