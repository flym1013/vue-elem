{"version":3,"sources":["webpack:///src/page/search/search.vue","webpack:///./src/page/search/search.vue?55d8","webpack:///./src/page/search/search.vue"],"names":["search","computed","extends_default","Object","vuex_esm","alertTip","_this","this","timer","historyValue","searchValue","searchRestaurants","length","history","searchHistory","_this2","geohash","data","search_search","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","head-title","goBack","_v","directives","name","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","checkInput","click","preventDefault","searchTarget","restaurantList","_l","item","key","id","to","path","query","tag","src","imgBaseUrl","image_path","_s","xmlns","version","width","height","staticStyle","fill","stroke","stroke-width","points","x1","y1","x2","y2","font-size","font-weight","x","y","month_sales","recent_order_num","delivery_fee","float_minimum_order_amount","distance","activities","style","backgroundColor","icon_color","icon_name","_e","showHistory","index","deleteHistory","clearAllHistory","alertText","closeTip","closeTipFun","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.39b64c83098e56fd4dc2.js","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"paddingTop search_page\">\r\n    <header-Top head-title=\"搜索\" goBack=\"true\"></header-Top>\r\n    <form class=\"search_form\">\r\n      <input type=\"search\" name=\"search\" @input=\"checkInput\" placeholder=\"请输入商家和美食名称\" class=\"search_input\" v-model=\"searchValue\">\r\n      <input type=\"submit\" name=\"submit\" value=\"提交\" class=\"search_submit\" @click.prevent=\"searchTarget('')\">\r\n    </form>\r\n    <section v-if=\"restaurantList.length\">\r\n      <h4 class=\"title_restaurant\">商家</h4>\r\n      <ul class=\"list_container\">\r\n        <router-link :to=\"{ path:'/shopDetail', query:{id:item.id} }\" tag=\"li\" v-for=\"item in restaurantList\" :key=\"item.id\" class=\"list_li\">\r\n          <section class=\"item_left\">\r\n            <img :src=\"imgBaseUrl + item.image_path\" class=\"restaurant_img\">\r\n          </section>\r\n          <section class=\"item_right\">\r\n            <div class=\"item_right_text\">\r\n              <p>\r\n                <span>{{item.name}}</span>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"14\" class=\"pay_icon\">\r\n                    <polygon points=\"0,14 4,0 24,0 20,14\" style=\"fill:none;stroke:#FF6000;stroke-width:1\" />\r\n                    <line x1=\"1.5\" y1=\"12\" x2=\"20\" y2=\"12\" style=\"stroke:#FF6000;stroke-width:1.5\"/>\r\n                    <text x=\"3.5\" y=\"9\" style=\"fill:#FF6000;font-size:9;font-weight:bold;\">支付</text>\r\n                </svg>\r\n              </p>\r\n              <p>月售 {{item.month_sales||item.recent_order_num}} 单</p>\r\n              <p>{{item.delivery_fee||item.float_minimum_order_amount}} 元起送 / 距离{{item.distance}}</p>\r\n            </div>\r\n            <ul class=\"item_right_detail\">\r\n              <li v-for=\"activities in item.restaurant_activity\" :key=\"activities.id\">\r\n                <span :style=\"{backgroundColor: '#' + activities.icon_color}\" class=\"activities_icon\">{{activities.icon_name}}</span>\r\n                <span>{{activities.name}}</span>\r\n                <span class=\"only_phone\">(手机客户端专享)</span>\r\n              </li>\r\n            </ul>\r\n          </section>\r\n        </router-link>\r\n      </ul>\r\n    </section>\r\n    <section class=\"search_history\" v-if=\"searchHistory.length&&showHistory\">\r\n      <h4 class=\"title_restaurant\">搜索历史</h4>\r\n      <ul>\r\n        <li v-for=\"(item, index) in searchHistory\" :key=\"index\" class=\"history_list\">\r\n          <span class=\"history_text ellipsis\" @click=\"searchTarget(item)\">{{item}}</span>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"delete_icon\" @click=\"deleteHistory(index)\">\r\n              <line x1=\"8\" y1=\"8\" x2=\"18\" y2=\"18\" style=\"stroke:#999;stroke-width:3\" />\r\n              <line x1=\"18\" y1=\"8\" x2=\"8\" y2=\"18\" style=\"stroke:#999;stroke-width:3\" />\r\n          </svg>\r\n        </li>\r\n      </ul>\r\n      <footer class=\"clear_history\" @click=\"clearAllHistory\">清空搜索历史</footer>\r\n    </section>\r\n    <foot-guide></foot-guide>\r\n    <div class=\"search_none\" v-if=\"emptyResult\">很抱歉！无搜索结果</div>\r\n    <alert-tip v-if=\"showAlert\" @closeTip=\"closeTipFun\" :alertText=\"alertText\"></alert-tip>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport footGuide from '../../components/footer/footGuide'\r\nimport headerTop from '../../components/header/header.vue'\r\nimport {searchRestaurants} from '../../service/getData.js'\r\nimport alertTip from '../../components/common/alertTip.vue'\r\nimport {mapState} from 'vuex'\r\nimport {getStore, setStore} from '../../config/utils.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      searchValue: null,\r\n      restaurantList: [],\r\n      showAlert: false,\r\n      alertText: null,\r\n      imgBaseUrl: 'http://cangdu.org:8001/img/',\r\n      searchHistory: [], // 搜索历史记录\r\n      showHistory: true, // 是否显示历史记录，只有在返回搜索结果后隐藏\r\n      emptyResult: false  // 搜索结果为空时显示\r\n    }\r\n  },\r\n  created () {\r\n    // this.geohash = this.$route.params.geohash\r\n    // 获取搜索历史\r\n    if (getStore('searchHistory')) {\r\n      this.searchHistory = JSON.parse(getStore('searchHistory'))\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'geohash'\r\n    ])\r\n  },\r\n  components: {\r\n    footGuide, headerTop, alertTip\r\n  },\r\n  methods: {\r\n    async searchTarget (historyValue) {\r\n      // 测试app.vue上的弹框\r\n      this.$root.showDeleteTip = true\r\n      clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        clearTimeout(this.timer)\r\n        this.$root.showDeleteTip = false\r\n      }, 1500)\r\n      // this.$root.showDeleteTip = true\r\n      // console.log(this.$root.showDeleteTip)\r\n      // 判断是否点击历史记录进行搜索,，没有搜素词就直接返回\r\n      if (historyValue) {\r\n        this.searchValue = historyValue\r\n      } else if (!this.searchValue) {\r\n        return\r\n      }\r\n      this.showHistory = false\r\n      // 获取搜索结果\r\n      await this.searchRestaurants()\r\n      // 若搜索结果为零，则显示无搜索结果\r\n      this.emptyResult = !this.restaurantList.length\r\n      // 保存搜索历史到本地\r\n      let history = getStore('searchHistory')\r\n      if (history) {\r\n        let checkrepeat = false\r\n        this.searchHistory = JSON.parse(history)\r\n        this.searchHistory.forEach(item => {\r\n          if (item === this.searchValue) {\r\n            checkrepeat = true\r\n          }\r\n        })\r\n        if (!checkrepeat) {\r\n          this.searchHistory.push(this.searchValue)\r\n        }\r\n      } else {\r\n        this.searchHistory.push(this.searchValue)\r\n      }\r\n      setStore('searchHistory', this.searchHistory)\r\n    },\r\n    closeTipFun () {\r\n      this.showAlert = false\r\n    },\r\n    // 清空当前历史记录\r\n    deleteHistory (index) {\r\n      this.searchHistory.splice(index, 1)\r\n      setStore('searchHistory', this.searchHistory)\r\n    },\r\n    // 清空所有搜索历史记录\r\n    clearAllHistory () {\r\n      this.searchHistory = []\r\n      setStore('searchHistory', this.searchHistory)\r\n    },\r\n    // input事件\r\n    checkInput () {\r\n      if (this.searchValue === '') {\r\n        this.showHistory = true  // 显示历史记录\r\n        this.restaurantList = [] // 清空搜索结果\r\n        this.emptyResult = false  // 隐  藏搜索为空提示\r\n      }\r\n    },\r\n    async searchRestaurants () {\r\n      if (!this.geohash) {\r\n        this.showAlert = true\r\n        this.alertText = '自动获取位置失败'\r\n      }\r\n      let res = await searchRestaurants({\r\n        geohash: this.geohash,\r\n        keyword: this.searchValue\r\n      })\r\n      this.restaurantList = res.data\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'src/style/mixin.scss';\r\n  .search_page{\r\n    margin-bottom: 2rem;\r\n  }\r\n  .search_form{\r\n    background-color: #ffffff;\r\n    display: flex;\r\n    padding: 0.5rem;\r\n    input{\r\n      height: 1.5rem;\r\n    }\r\n    .search_input{\r\n      flex: 4;\r\n      border: 0.025rem solid $bc;\r\n      @include sc(0.65rem, #333);\r\n      border-radius: 0.125rem;\r\n      background-color: #f2f2f2;\r\n      font-weight: bold;\r\n      padding: 0 0.25rem;\r\n    }\r\n    .search_submit{\r\n      flex: 1;\r\n      border: 0.025rem solid $blue;\r\n      margin-left: .2rem;\r\n      @include sc(0.65rem, #fff);\r\n      border-radius: 0.125rem;\r\n      background-color: $blue;\r\n      font-weight: bold;\r\n      padding: 0 0.25rem;\r\n    }\r\n  }\r\n  .title_restaurant{\r\n    font-size: 0.6rem;\r\n    line-height: 2rem;\r\n    text-indent: 0.5rem;\r\n    font-weight: bold;\r\n    color: #666;\r\n  }\r\n  .list_container{\r\n    background-color: #ffffff;\r\n  }\r\n  .list_li{\r\n    display: flex;\r\n    justify-content: 'center';\r\n    padding: 0.5rem;\r\n    border-bottom: 0.025rem solid $bc;\r\n    .item_left{\r\n      margin-right: 0.25rem;\r\n      .restaurant_img{\r\n        @include wh(1.7rem, 1.7rem);\r\n      }\r\n    }\r\n    .item_right{\r\n      font-size: 0.55rem;\r\n      flex: 1;\r\n      text-align: left;\r\n      .item_right_text{\r\n        padding-bottom: 0.25rem;\r\n        border-bottom: 0.025rem solid $bc;\r\n        p{\r\n          line-height: .9rem;\r\n        }\r\n        .pay_icon{\r\n          margin-bottom: -0.08rem;\r\n        }\r\n      }\r\n      .item_right_detail{\r\n        margin-top: 0.25rem;\r\n        li{\r\n          font-size: 0;\r\n          span{\r\n            font-size: .5rem;\r\n            vertical-align: middle;\r\n            display: inline-block;\r\n            margin-bottom: 0.2rem;\r\n          }\r\n          .activities_icon{\r\n            @include sc(.5rem, #fff);\r\n            font-weight: bold;\r\n            padding: .04rem;\r\n            border-radius: 0.15rem;\r\n            margin-right: 0.125rem;\r\n          }\r\n          .only_phone{\r\n            color: #FF6000;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .search_history{\r\n    .history_list{\r\n      text-align: left;\r\n      background-color: #fff;\r\n      border-bottom: 0.025rem solid $bc;\r\n      @include font(0.7rem, 2rem);\r\n      padding: 0 0.3rem;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      .history_text{\r\n        display: inline-block;\r\n        width: 80%;\r\n      }\r\n      .delete_icon{\r\n        @include wh(1rem, 1rem);\r\n      }\r\n    }\r\n    .clear_history{\r\n      background-color: #fff;\r\n      color: $blue;\r\n      @include font(.7rem, 2rem);\r\n      font-weight: bold;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .search_none{\r\n    margin: 0 auto;\r\n    @include font(0.65rem, 1.75rem);\r\n    color: #333;\r\n    background-color: #fff;\r\n    text-align: center;\r\n    margin-top: 0.125rem;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"paddingTop search_page\"},[_c('header-Top',{attrs:{\"head-title\":\"搜索\",\"goBack\":\"true\"}}),_vm._v(\" \"),_c('form',{staticClass:\"search_form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],staticClass:\"search_input\",attrs:{\"type\":\"search\",\"name\":\"search\",\"placeholder\":\"请输入商家和美食名称\"},domProps:{\"value\":(_vm.searchValue)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value},_vm.checkInput]}}),_vm._v(\" \"),_c('input',{staticClass:\"search_submit\",attrs:{\"type\":\"submit\",\"name\":\"submit\",\"value\":\"提交\"},on:{\"click\":function($event){$event.preventDefault();_vm.searchTarget('')}}})]),_vm._v(\" \"),(_vm.restaurantList.length)?_c('section',[_c('h4',{staticClass:\"title_restaurant\"},[_vm._v(\"商家\")]),_vm._v(\" \"),_c('ul',{staticClass:\"list_container\"},_vm._l((_vm.restaurantList),function(item){return _c('router-link',{key:item.id,staticClass:\"list_li\",attrs:{\"to\":{ path:'/shopDetail', query:{id:item.id} },\"tag\":\"li\"}},[_c('section',{staticClass:\"item_left\"},[_c('img',{staticClass:\"restaurant_img\",attrs:{\"src\":_vm.imgBaseUrl + item.image_path}})]),_vm._v(\" \"),_c('section',{staticClass:\"item_right\"},[_c('div',{staticClass:\"item_right_text\"},[_c('p',[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('svg',{staticClass:\"pay_icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"width\":\"24\",\"height\":\"14\"}},[_c('polygon',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#FF6000\",\"stroke-width\":\"1\"},attrs:{\"points\":\"0,14 4,0 24,0 20,14\"}}),_vm._v(\" \"),_c('line',{staticStyle:{\"stroke\":\"#FF6000\",\"stroke-width\":\"1.5\"},attrs:{\"x1\":\"1.5\",\"y1\":\"12\",\"x2\":\"20\",\"y2\":\"12\"}}),_vm._v(\" \"),_c('text',{staticStyle:{\"fill\":\"#FF6000\",\"font-size\":\"9\",\"font-weight\":\"bold\"},attrs:{\"x\":\"3.5\",\"y\":\"9\"}},[_vm._v(\"支付\")])])]),_vm._v(\" \"),_c('p',[_vm._v(\"月售 \"+_vm._s(item.month_sales||item.recent_order_num)+\" 单\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.delivery_fee||item.float_minimum_order_amount)+\" 元起送 / 距离\"+_vm._s(item.distance))])]),_vm._v(\" \"),_c('ul',{staticClass:\"item_right_detail\"},_vm._l((item.restaurant_activity),function(activities){return _c('li',{key:activities.id},[_c('span',{staticClass:\"activities_icon\",style:({backgroundColor: '#' + activities.icon_color})},[_vm._v(_vm._s(activities.icon_name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(activities.name))]),_vm._v(\" \"),_c('span',{staticClass:\"only_phone\"},[_vm._v(\"(手机客户端专享)\")])])}))])])}))]):_vm._e(),_vm._v(\" \"),(_vm.searchHistory.length&&_vm.showHistory)?_c('section',{staticClass:\"search_history\"},[_c('h4',{staticClass:\"title_restaurant\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.searchHistory),function(item,index){return _c('li',{key:index,staticClass:\"history_list\"},[_c('span',{staticClass:\"history_text ellipsis\",on:{\"click\":function($event){_vm.searchTarget(item)}}},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('svg',{staticClass:\"delete_icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"},on:{\"click\":function($event){_vm.deleteHistory(index)}}},[_c('line',{staticStyle:{\"stroke\":\"#999\",\"stroke-width\":\"3\"},attrs:{\"x1\":\"8\",\"y1\":\"8\",\"x2\":\"18\",\"y2\":\"18\"}}),_vm._v(\" \"),_c('line',{staticStyle:{\"stroke\":\"#999\",\"stroke-width\":\"3\"},attrs:{\"x1\":\"18\",\"y1\":\"8\",\"x2\":\"8\",\"y2\":\"18\"}})])])})),_vm._v(\" \"),_c('footer',{staticClass:\"clear_history\",on:{\"click\":_vm.clearAllHistory}},[_vm._v(\"清空搜索历史\")])]):_vm._e(),_vm._v(\" \"),_c('foot-guide'),_vm._v(\" \"),(_vm.emptyResult)?_c('div',{staticClass:\"search_none\"},[_vm._v(\"很抱歉！无搜索结果\")]):_vm._e(),_vm._v(\" \"),(_vm.showAlert)?_c('alert-tip',{attrs:{\"alertText\":_vm.alertText},on:{\"closeTip\":_vm.closeTipFun}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eddf929a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eddf929a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eddf929a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-eddf929a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/search/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}