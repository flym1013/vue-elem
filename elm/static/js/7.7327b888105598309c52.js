webpackJsonp([7],{"3v39":function(t,e){},"9zw/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Xxa5"),i=s.n(r),a=s("exGp"),n=s.n(a),o=s("Dd8w"),c=s.n(o),l=s("FPXY"),u=s("hxP8"),d={data:function(){return{countNum:900,showAlert:!1,alertText:null}},props:["time"],created:function(){this.countNum-=this.numTime,this.remainingTime()},computed:{remaining:function(){var t=parseInt(this.countNum/60),e=parseInt(this.countNum%60);return t<10&&(t="0"+t),e<10&&(e="0"+e),"去支付(还剩"+t+"分"+e+"秒)"},numTime:function(){return-1!==this.time.toString().indexOf("分钟")?60*parseInt(this.time):parseInt(this.time)}},components:{alertTip:s("Uoa1").a},methods:{closeTip:function(){this.$emit("closeTip")},remainingTime:function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){t.countNum--,0===t.countNum&&(clearInterval(t.timer),t.showAlert=!0,t.alertText="支付超时")},1e3)},gotoPay:function(){this.showAlert=!0,this.alertText="暂不开放支付接口"}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("span",{staticClass:"rem_time",staticStyle:{color:"orange","border-width":"1px","border-style":"solid","border-color":"orange"},on:{click:t.gotoPay}},[t._v("\n    "+t._s(t.remaining)+"\n  ")]),t._v(" "),t.showAlert?s("alert-tip",{attrs:{alertText:t.alertText},on:{closeTip:function(e){t.showAlert=!1}}}):t._e()],1)},staticRenderFns:[]},h=s("VU/8")(d,_,!1,function(t){s("3v39")},"data-v-88508544",null).exports,m=s("i84Q"),p=s("NYxO"),f=s("GQaK"),g={data:function(){return{offset:0,orderList:[],imgBaseUrl:"http://cangdu.org:8001/img/"}},mounted:function(){this.$nextTick(function(){new f.a("#scroll_section",{deceleration:.001,bounce:!0,swipeTime:1800,click:!0})})},created:function(){this.getOrderList()},components:{footGuide:l.a,headerTop:u.a,computeTime:h},computed:c()({},Object(p.d)(["userInfo","geohash"])),watch:{userInfo:function(t){this.getOrderList()}},methods:c()({},Object(p.c)(["SAVE_ORDER"]),{showDetail:function(t){this.SAVE_ORDER(t),this.$router.push("/orderDetail")},getOrderList:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.userInfo||!t.userInfo.user_id){e.next=5;break}return e.next=3,Object(m.t)({user_id:t.userInfo.user_id,offset:t.offset});case 3:s=e.sent,t.orderList=s.data;case 5:case"end":return e.stop()}},e,t)}))()}})},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"paddingTop search_page order_page"},[s("header-Top",{attrs:{"head-title":"订单列表",goBack:"true"}}),t._v(" "),s("div",{staticClass:"scroll_container",attrs:{id:"scroll_section",class:"scroll_container"}},[s("ul",{staticClass:"order_list_ul"},t._l(t.orderList,function(e){return s("li",{key:e.id,staticClass:"order_list_li"},[s("img",{staticClass:"restaurant_image",attrs:{src:t.imgBaseUrl+e.restaurant_image_url}}),t._v(" "),s("section",{staticClass:"order_item_right"},[s("section",{on:{click:function(s){t.showDetail(e)}}},[s("header",{staticClass:"order_item_right_header"},[s("section",{staticClass:"order_header"},[s("h4",[s("span",{staticClass:"ellipsis"},[t._v(t._s(e.restaurant_name)+" ")]),t._v(" "),s("svg",{staticClass:"arrow_right",attrs:{fill:"#333"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])]),t._v(" "),s("p",{staticClass:"order_time"},[t._v(t._s(e.formatted_created_at))])]),t._v(" "),s("p",{staticClass:"order_status"},[t._v("\n                "+t._s(e.status_bar.title)+"\n              ")])]),t._v(" "),s("section",{staticClass:"order_basket"},[s("p",{staticClass:"order_name ellipsis"},[t._v(t._s(e.basket.group[0][0].name)+t._s(e.basket.group[0].length>1?" 等"+e.basket.group[0].length+"件商品":""))]),t._v(" "),s("p",{staticClass:"order_amount"},[t._v("¥"+t._s(e.total_amount.toFixed(2)))])])]),t._v(" "),s("div",{staticClass:"order_again"},["等待支付"==e.status_bar.title?s("compute-time",{attrs:{time:e.time_pass}}):s("router-link",{staticClass:"buy_again",attrs:{to:{path:"/shopDetail",query:{geohash:t.geohash,id:e.restaurant_id}},tag:"span"}},[t._v("再来一单")])],1)])])}))]),t._v(" "),s("foot-guide")],1)},staticRenderFns:[]},w=s("VU/8")(g,v,!1,function(t){s("UY6H")},"data-v-e1f04c30",null);e.default=w.exports},UY6H:function(t,e){}});
//# sourceMappingURL=7.7327b888105598309c52.js.map